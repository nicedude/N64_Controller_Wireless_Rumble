EESchema Schematic File Version 2  date 10-08-2012 17:22:01
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:con-usb
LIBS:MAX1595
LIBS:max1811
LIBS:Controller_Version_2_single_PCB_attempt-cache
EELAYER 25  0
EELAYER END
$Descr A4 11700 8267
encoding utf-8
Sheet 1 1
Title ""
Date "10 aug 2012"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L GND #PWR?
U 1 1 50252716
P 2600 3650
F 0 "#PWR?" H 2600 3650 30  0001 C CNN
F 1 "GND" H 2600 3580 30  0001 C CNN
	1    2600 3650
	1    0    0    -1  
$EndComp
Text Notes 6550 5150 0    60   ~ 0
Is the ^SHDN net neccesary?
Text GLabel 7050 5650 0    60   Input ~ 0
V_Batt_switched
Wire Wire Line
	5700 6450 5700 6700
Connection ~ 6550 6700
Wire Wire Line
	6550 6450 6550 6700
Wire Wire Line
	6550 6450 6600 6450
Wire Wire Line
	6500 6700 6650 6700
Wire Wire Line
	4350 4250 4350 4200
Wire Wire Line
	4350 4200 4300 4200
Wire Wire Line
	4300 4100 4400 4100
Wire Wire Line
	4550 1900 5200 1900
Wire Wire Line
	7850 5550 7850 5650
Connection ~ 7850 5650
Connection ~ 6100 2350
Wire Wire Line
	6100 2450 6100 1550
Wire Wire Line
	4650 1700 4550 1700
Wire Wire Line
	7800 5650 8100 5650
Connection ~ 7200 5650
Wire Wire Line
	7050 5650 7300 5650
Wire Wire Line
	7200 5650 7200 5850
Wire Wire Line
	7400 6500 7400 6350
Connection ~ 7600 5750
Wire Wire Line
	7600 5850 7600 5750
Wire Wire Line
	10250 5550 10250 5500
Wire Wire Line
	10250 5500 10100 5500
Wire Wire Line
	10100 5500 10100 5650
Wire Wire Line
	10100 5650 9600 5650
Wire Wire Line
	8000 5550 8000 5250
Wire Wire Line
	8000 5550 8100 5550
Wire Wire Line
	9750 5150 9750 5550
Wire Wire Line
	6700 1000 6450 1000
Connection ~ 7300 1000
Wire Wire Line
	7300 1200 7300 1000
Wire Wire Line
	4550 1300 4650 1300
Wire Wire Line
	4550 1100 4650 1100
Wire Wire Line
	4550 1500 4650 1500
Wire Wire Line
	5200 2350 5200 2000
Wire Wire Line
	5550 2350 5200 2350
Wire Wire Line
	2550 6650 2550 6700
Wire Wire Line
	2550 7100 2550 6800
Connection ~ 4450 7200
Wire Wire Line
	4450 7150 4450 7300
Connection ~ 2600 3000
Wire Wire Line
	2800 3000 2350 3000
Wire Wire Line
	2800 3000 2800 3150
Wire Wire Line
	8300 2300 8300 2450
Wire Wire Line
	6750 2700 6750 2450
Connection ~ 2600 3550
Wire Wire Line
	2800 3550 2350 3550
Wire Wire Line
	1500 5700 1500 5350
Wire Wire Line
	1500 5350 1300 5350
Wire Wire Line
	8300 2450 8050 2450
Connection ~ 2150 5350
Wire Wire Line
	2150 5350 2700 5350
Wire Wire Line
	2150 6500 2700 6500
Wire Wire Line
	2150 6350 2150 6500
Wire Wire Line
	2150 5300 2150 5400
Wire Wire Line
	4450 6600 4450 6750
Wire Wire Line
	3900 7000 4000 7000
Connection ~ 4000 7000
Wire Wire Line
	4000 7000 4000 7100
Connection ~ 2550 6800
Wire Wire Line
	2550 6800 2700 6800
Connection ~ 5700 7000
Wire Wire Line
	5700 7150 5700 6900
Wire Wire Line
	5350 7000 5700 7000
Wire Wire Line
	1750 5300 1750 5450
Wire Wire Line
	1750 5450 1300 5450
Connection ~ 5450 2350
Wire Wire Line
	5450 2250 5450 2350
Wire Wire Line
	6100 1550 5950 1550
Wire Wire Line
	5950 2350 6100 2350
Wire Wire Line
	5450 1650 5450 1550
Connection ~ 5450 1550
Wire Wire Line
	5350 6600 5700 6600
Connection ~ 5700 6600
Wire Wire Line
	2550 6700 2700 6700
Wire Wire Line
	2700 7000 2550 7000
Connection ~ 2550 7000
Connection ~ 4450 6700
Wire Wire Line
	2150 5900 2150 5950
Wire Wire Line
	2700 5350 2700 6400
Wire Wire Line
	2050 6450 2150 6450
Connection ~ 2150 6450
Wire Wire Line
	9950 6250 9950 6500
Wire Wire Line
	6750 2450 7250 2450
Wire Wire Line
	2600 3650 2600 3550
Wire Wire Line
	2350 3000 2350 3150
Wire Wire Line
	2600 2950 2600 3000
Wire Wire Line
	3900 6700 4800 6700
Wire Wire Line
	4800 6700 4800 6750
Wire Wire Line
	4800 7150 4800 7200
Wire Wire Line
	4800 7200 4450 7200
Wire Wire Line
	5550 1550 5200 1550
Wire Wire Line
	5200 1550 5200 1900
Wire Wire Line
	4550 2100 4650 2100
Wire Wire Line
	4550 1600 4650 1600
Wire Wire Line
	4650 1000 4550 1000
Wire Wire Line
	4650 1200 4550 1200
Wire Wire Line
	4650 1400 4550 1400
Wire Wire Line
	2350 1000 2450 1000
Wire Wire Line
	7200 1000 7400 1000
Wire Wire Line
	7900 1000 8000 1000
Wire Wire Line
	8000 1000 8000 1100
Wire Wire Line
	9600 5850 9700 5850
Wire Wire Line
	9700 5850 9700 5950
Wire Wire Line
	9950 5550 9950 5850
Wire Wire Line
	9600 5550 9950 5550
Connection ~ 9750 5550
Wire Wire Line
	8000 5250 9750 5250
Connection ~ 9750 5250
Wire Wire Line
	9600 5750 10100 5750
Wire Wire Line
	10100 5750 10100 6000
Wire Wire Line
	10100 6000 10250 6000
Wire Wire Line
	10250 6000 10250 5950
Wire Wire Line
	8100 5850 8050 5850
Wire Wire Line
	8050 5850 8050 5950
Wire Wire Line
	7200 6350 7200 6250
Wire Wire Line
	7600 6350 7600 6250
Wire Wire Line
	7200 6350 7600 6350
Connection ~ 7400 6350
Connection ~ 7200 5750
Wire Wire Line
	7200 5750 8100 5750
Wire Wire Line
	2450 2200 2350 2200
Wire Wire Line
	2350 2200 2350 2300
Wire Wire Line
	6450 1000 6450 850 
Wire Wire Line
	5200 2000 4550 2000
Wire Wire Line
	4300 4000 4350 4000
Wire Wire Line
	4350 4000 4350 3950
Wire Wire Line
	5700 6700 5900 6700
Wire Wire Line
	5700 6900 6650 6900
Wire Wire Line
	4050 6400 3900 6400
Text GLabel 5700 6450 1    60   Input ~ 0
V_Batt_switched
Text GLabel 6600 6450 2    60   Input ~ 0
Vchrg
Text GLabel 4050 6400 2    60   Input ~ 0
Vchrg
$Comp
L SW_PUSH SW1
U 1 1 50192F7D
P 6200 6700
F 0 "SW1" H 6350 6810 50  0000 C CNN
F 1 "SW_PUSH" H 6200 6620 50  0000 C CNN
	1    6200 6700
	-1   0    0    -1  
$EndComp
Text GLabel 4400 4100 2    60   Input ~ 0
N64Serial
Text GLabel 4650 2100 2    60   Input ~ 0
N64Serial
$Comp
L CONN_3 N64
U 1 1 50192E70
P 3950 4100
F 0 "N64" V 3900 4100 50  0000 C CNN
F 1 "CONN_3" V 4000 4100 40  0000 C CNN
	1    3950 4100
	-1   0    0    1   
$EndComp
$Comp
L +BATT #PWR01
U 1 1 50190B42
P 6450 900
F 0 "#PWR01" H 6450 850 20  0001 C CNN
F 1 "+BATT" H 6450 1000 30  0000 C CNN
	1    6450 900 
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR02
U 1 1 501904C7
P 9750 5150
F 0 "#PWR02" H 9750 5110 30  0001 C CNN
F 1 "+3.3V" H 9750 5260 30  0000 C CNN
	1    9750 5150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR03
U 1 1 50190402
P 8000 1100
F 0 "#PWR03" H 8000 1100 30  0001 C CNN
F 1 "GND" H 8000 1030 30  0001 C CNN
	1    8000 1100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR04
U 1 1 501903FD
P 6750 2700
F 0 "#PWR04" H 6750 2700 30  0001 C CNN
F 1 "GND" H 6750 2630 30  0001 C CNN
	1    6750 2700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 501903F3
P 6100 2450
F 0 "#PWR05" H 6100 2450 30  0001 C CNN
F 1 "GND" H 6100 2380 30  0001 C CNN
	1    6100 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 501903E5
P 2350 2300
F 0 "#PWR06" H 2350 2300 30  0001 C CNN
F 1 "GND" H 2350 2230 30  0001 C CNN
	1    2350 2300
	1    0    0    -1  
$EndComp
Text GLabel 7850 5550 1    60   Input ~ 0
^SHDN
Text GLabel 4650 1700 2    60   Input ~ 0
^SHDN
Text Notes 8300 5150 0    60   ~ 0
Buck Boost Converter
$Comp
L R R4
U 1 1 4FEA1B12
P 7550 5650
F 0 "R4" V 7630 5650 50  0000 C CNN
F 1 "100K" V 7550 5650 50  0000 C CNN
	1    7550 5650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR07
U 1 1 4FEA19AE
P 8050 5950
F 0 "#PWR07" H 8050 5950 30  0001 C CNN
F 1 "GND" H 8050 5880 30  0001 C CNN
	1    8050 5950
	1    0    0    -1  
$EndComp
$Comp
L C C11
U 1 1 4FEA1961
P 10250 5750
F 0 "C11" H 10300 5850 50  0000 L CNN
F 1 "220nF" H 10300 5650 50  0000 L CNN
	1    10250 5750
	1    0    0    -1  
$EndComp
$Comp
L MAX1595 U2
U 1 1 4FE9F9F2
P 8850 5700
F 0 "U2" H 8850 5600 50  0000 C CNN
F 1 "MAX1595" H 8850 5800 50  0000 C CNN
F 2 "MODULE" H 8850 5700 50  0001 C CNN
F 3 "DOCUMENTATION" H 8850 5700 50  0001 C CNN
	1    8850 5700
	1    0    0    -1  
$EndComp
Text Notes 2050 4200 0    60   ~ 0
For feeding and interfacing the N64:
Text Notes 6750 800  0    60   ~ 0
Battery Voltage Divider for the ADC
Text GLabel 7300 1200 3    60   Input ~ 0
ANALOG0
$Comp
L R R3
U 1 1 4FE732FD
P 7650 1000
F 0 "R3" V 7730 1000 50  0000 C CNN
F 1 "430k" V 7650 1000 50  0000 C CNN
	1    7650 1000
	0    -1   -1   0   
$EndComp
$Comp
L R R2
U 1 1 4FE732F5
P 6950 1000
F 0 "R2" V 7030 1000 50  0000 C CNN
F 1 "100k" V 6950 1000 50  0000 C CNN
	1    6950 1000
	0    -1   -1   0   
$EndComp
Text Notes 3050 800  0    60   ~ 0
approx 3mA@8MHz@3v3
$Comp
L +3.3V #PWR08
U 1 1 4FE6ECED
P 2350 1000
F 0 "#PWR08" H 2350 960 30  0001 C CNN
F 1 "+3.3V" H 2350 1110 30  0000 C CNN
	1    2350 1000
	0    -1   -1   0   
$EndComp
Text GLabel 4650 1000 2    60   Input ~ 0
ANALOG0
Text GLabel 4650 1100 2    60   Input ~ 0
IRQ
Text GLabel 4650 1200 2    60   Input ~ 0
CE
Text GLabel 4650 1300 2    60   Input ~ 0
CSN
Text GLabel 4650 1600 2    60   Input ~ 0
MOSI
Text GLabel 4650 1500 2    60   Input ~ 0
MISO
Text GLabel 4650 1400 2    60   Input ~ 0
SCK
$Comp
L ATTINY24-SS IC1
U 1 1 4FE6EA8C
P 3500 1600
F 0 "IC1" H 2750 2350 60  0000 C CNN
F 1 "ATTINY24-SS" H 4050 850 60  0000 C CNN
F 2 "SO14" H 2800 850 60  0001 C CNN
	1    3500 1600
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR09
U 1 1 4FE08C10
P 2550 6650
F 0 "#PWR09" H 2550 6740 20  0001 C CNN
F 1 "+5V" H 2550 6740 30  0000 C CNN
	1    2550 6650
	1    0    0    -1  
$EndComp
Text Notes 2850 6150 0    60   ~ 0
100mA charge current = ca. 4hr charge time
$Comp
L C C10
U 1 1 4FC72B39
P 4800 6950
F 0 "C10" H 4850 7050 50  0000 L CNN
F 1 "100n" H 4850 6850 50  0000 L CNN
	1    4800 6950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR010
U 1 1 4FC72ABF
P 8300 2300
F 0 "#PWR010" H 8300 2260 30  0001 C CNN
F 1 "+3.3V" H 8300 2410 30  0000 C CNN
	1    8300 2300
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR011
U 1 1 4FC72AB1
P 2600 2950
F 0 "#PWR011" H 2600 2910 30  0001 C CNN
F 1 "+3.3V" H 2600 3060 30  0000 C CNN
	1    2600 2950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR012
U 1 1 4FC72AA1
P 4350 3950
F 0 "#PWR012" H 4350 3910 30  0001 C CNN
F 1 "+3.3V" H 4350 4060 30  0000 C CNN
	1    4350 3950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR013
U 1 1 4FC72A57
P 4350 4250
F 0 "#PWR013" H 4350 4250 30  0001 C CNN
F 1 "GND" H 4350 4180 30  0001 C CNN
	1    4350 4250
	1    0    0    -1  
$EndComp
$Comp
L C C9
U 1 1 4FC72809
P 7200 6050
F 0 "C9" H 7250 6150 50  0000 L CNN
F 1 "100n" H 7250 5950 50  0000 L CNN
	1    7200 6050
	1    0    0    -1  
$EndComp
NoConn ~ 1300 5650
NoConn ~ 1300 5550
Text Notes 7450 1950 0    60   ~ 0
2mA Avg.
$Comp
L CP1 C4
U 1 1 4F5F9145
P 2800 3350
F 0 "C4" H 2850 3450 50  0000 L CNN
F 1 "10u" H 2850 3250 50  0000 L CNN
	1    2800 3350
	1    0    0    -1  
$EndComp
$Comp
L C C3
U 1 1 4F5F9071
P 2350 3350
F 0 "C3" H 2400 3450 50  0000 L CNN
F 1 "100n" H 2400 3250 50  0000 L CNN
	1    2350 3350
	1    0    0    -1  
$EndComp
Text GLabel 8050 2750 2    60   Input ~ 0
IRQ
Text GLabel 8050 2650 2    60   Input ~ 0
MOSI
Text GLabel 8050 2550 2    60   Input ~ 0
CSN
Text GLabel 7250 2750 0    60   Input ~ 0
MISO
Text GLabel 7250 2650 0    60   Input ~ 0
SCK
Text GLabel 7250 2550 0    60   Input ~ 0
CE
$Comp
L GND #PWR015
U 1 1 4F5F6BBA
P 7400 6500
F 0 "#PWR015" H 7400 6500 30  0001 C CNN
F 1 "GND" H 7400 6430 30  0001 C CNN
	1    7400 6500
	1    0    0    -1  
$EndComp
$Comp
L CP1 C7
U 1 1 4F5F6BB2
P 7600 6050
F 0 "C7" H 7650 6150 50  0000 L CNN
F 1 "2.2uF" H 7650 5950 50  0000 L CNN
	1    7600 6050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR016
U 1 1 4F5F6A53
P 9950 6500
F 0 "#PWR016" H 9950 6500 30  0001 C CNN
F 1 "GND" H 9950 6430 30  0001 C CNN
	1    9950 6500
	1    0    0    -1  
$EndComp
$Comp
L CP1 C8
U 1 1 4F5F69B5
P 9950 6050
F 0 "C8" H 10000 6150 50  0000 L CNN
F 1 "2.2uF" H 10000 5950 50  0000 L CNN
	1    9950 6050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR017
U 1 1 4F5F6856
P 9700 5950
F 0 "#PWR017" H 9700 5950 30  0001 C CNN
F 1 "GND" H 9700 5880 30  0001 C CNN
	1    9700 5950
	1    0    0    -1  
$EndComp
Text Notes 7250 2150 0    60   ~ 0
To wireless module\n
Text Notes 2950 6050 0    60   ~ 0
Charging curcuit:\n
Text Notes 6400 7050 0    60   ~ 0
Battery_connector:
Text GLabel 2050 6450 0    60   Input ~ 0
CHARGE_INDICATOR
$Comp
L LED D1
U 1 1 4F4F3974
P 2150 6150
F 0 "D1" H 2150 6250 50  0000 C CNN
F 1 "LED" H 2150 6050 50  0000 C CNN
	1    2150 6150
	0    1    1    0   
$EndComp
$Comp
L R R1
U 1 1 4F4F3966
P 2150 5650
F 0 "R1" V 2230 5650 50  0000 C CNN
F 1 "200" V 2150 5650 50  0000 C CNN
	1    2150 5650
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR018
U 1 1 4F4F395E
P 2150 5300
F 0 "#PWR018" H 2150 5390 20  0001 C CNN
F 1 "+5V" H 2150 5390 30  0000 C CNN
	1    2150 5300
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR019
U 1 1 4F4F393F
P 4450 6600
F 0 "#PWR019" H 4450 6690 20  0001 C CNN
F 1 "+5V" H 4450 6690 30  0000 C CNN
	1    4450 6600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR020
U 1 1 4F4F3934
P 4450 7300
F 0 "#PWR020" H 4450 7300 30  0001 C CNN
F 1 "GND" H 4450 7230 30  0001 C CNN
	1    4450 7300
	1    0    0    -1  
$EndComp
$Comp
L CP1 C5
U 1 1 4F4F38FC
P 4450 6950
F 0 "C5" H 4500 7050 50  0000 L CNN
F 1 "4.7uF" H 4500 6850 50  0000 L CNN
	1    4450 6950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR021
U 1 1 4F4F38CA
P 4000 7100
F 0 "#PWR021" H 4000 7100 30  0001 C CNN
F 1 "GND" H 4000 7030 30  0001 C CNN
	1    4000 7100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR022
U 1 1 4F4F38C1
P 2550 7100
F 0 "#PWR022" H 2550 7100 30  0001 C CNN
F 1 "GND" H 2550 7030 30  0001 C CNN
	1    2550 7100
	1    0    0    -1  
$EndComp
$Comp
L MAX1811 U1
U 1 1 4F4F38B3
P 3300 6700
F 0 "U1" H 3300 6800 60  0000 C CNN
F 1 "MAX1811" H 3300 6700 60  0000 C CNN
	1    3300 6700
	1    0    0    -1  
$EndComp
$Comp
L CP1 C6
U 1 1 4F4F37F8
P 5350 6800
F 0 "C6" H 5400 6900 50  0000 L CNN
F 1 "4.7uF" H 5400 6700 50  0000 L CNN
	1    5350 6800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR023
U 1 1 4F4F372C
P 5700 7150
F 0 "#PWR023" H 5700 7150 30  0001 C CNN
F 1 "GND" H 5700 7080 30  0001 C CNN
	1    5700 7150
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 J1
U 1 1 4F4F3715
P 7000 6800
F 0 "J1" V 6950 6800 40  0000 C CNN
F 1 "BATT" V 7050 6800 40  0000 C CNN
	1    7000 6800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR024
U 1 1 4F4F36B2
P 1500 5700
F 0 "#PWR024" H 1500 5700 30  0001 C CNN
F 1 "GND" H 1500 5630 30  0001 C CNN
	1    1500 5700
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR025
U 1 1 4F4F36A7
P 1750 5300
F 0 "#PWR025" H 1750 5390 20  0001 C CNN
F 1 "+5V" H 1750 5390 30  0000 C CNN
	1    1750 5300
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 4F4F356F
P 5750 1550
F 0 "C2" H 5800 1650 50  0000 L CNN
F 1 "22pf" H 5800 1450 50  0000 L CNN
	1    5750 1550
	0    1    1    0   
$EndComp
$Comp
L C C1
U 1 1 4F4F3569
P 5750 2350
F 0 "C1" H 5800 2450 50  0000 L CNN
F 1 "22pf" H 5800 2250 50  0000 L CNN
	1    5750 2350
	0    1    1    0   
$EndComp
$Comp
L CRYSTAL X2
U 1 1 4F4F350C
P 5450 1950
F 0 "X2" H 5450 2100 60  0000 C CNN
F 1 "8MHz" H 5450 1800 60  0000 C CNN
	1    5450 1950
	0    1    1    0   
$EndComp
$Comp
L CONN_4X2 J2
U 1 1 4F4F3414
P 7650 2600
F 0 "J2" H 7650 2850 50  0000 C CNN
F 1 "NRF_conn" V 7650 2600 40  0000 C CNN
	1    7650 2600
	1    0    0    -1  
$EndComp
$Comp
L USB-MB-S X1
U 1 1 4F4F3355
P 1200 5350
F 0 "X1" H 1200 5350 50  0000 C CNN
F 1 "USB-MB-S" H 1250 5150 50  0000 C CNN
F 2 "con-usb-USB-MB-S" H 1200 5250 50  0001 C CNN
	1    1200 5350
	-1   0    0    1   
$EndComp
$EndSCHEMATC
